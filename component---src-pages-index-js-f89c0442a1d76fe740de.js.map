{"version":3,"sources":["webpack:///./helpers.js","webpack:///./src/pages/index.js"],"names":["groupPagesByLocale","markdown","node","pagesByLocale","Info","styled","rhythm","data","location","intl","useIntl","localizedPost","siteTitle","title","dangerouslySetInnerHTML","__html","html","pageQuery"],"mappings":"2FAAA,kCAAO,IAAMA,EAAqB,SAAAC,GAChC,OAAOA,EAAA,QAAgB,cAEhB,IADLC,EACI,EADJA,KAKA,OAFAC,EADeD,cAAf,QACAC,EAEOA,IANT,M,+TCcF,IAAMC,EAAOC,UAAH,YAGKC,YAHf,MAoBA,UAdkB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACnBC,EAAOC,oBAEPC,EADQX,YAAmBO,oBAAjC,OAC4BE,EAA5B,QACMG,EAAYD,cAAlB,MAEA,OACE,uBAAQH,SAAR,EAA4BK,MAAOD,GACjC,uBAAKC,MAAM,cACX,qBAAMC,wBAAyB,CAAEC,OAAQJ,EAAcK,UAOtD,IAAMC,EAAN","file":"component---src-pages-index-js-f89c0442a1d76fe740de.js","sourcesContent":["export const groupPagesByLocale = markdown => {\n  return markdown.reduce((pagesByLocale, {\n    node\n  }) => {\n    const locale = node.frontmatter.locale;\n    pagesByLocale[locale] = node;\n\n    return pagesByLocale;\n  }, {})\n}\n\n// const trimPath = str => {\n//   const lastDirectoryIndex = str.lastIndexOf('/') + 1;\n//   const trimCount = -(str.length - lastDirectoryIndex);\n\n//   return str.slice(0, trimCount)\n// }","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport styled from 'styled-components'\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport {\n  useIntl\n} from \"gatsby-plugin-intl\"\nimport {\n  groupPagesByLocale\n} from '../../helpers'\nimport {\n  rhythm\n} from \"../utils/typography\"\n\nconst Info = styled.section`\n    height: 100%;\n    width: 100%;\n    padding: ${rhythm(2.5)};\n`;\n\nconst BlogIndex = ({ data, location }) => {\n  const intl = useIntl();\n  const posts = groupPagesByLocale(data.allMarkdownRemark.edges)\n  const localizedPost = posts[intl.locale];\n  const siteTitle = localizedPost.frontmatter.title\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"All posts\" />\n      <Info dangerouslySetInnerHTML={{ __html: localizedPost.html }} />\n    </Layout>\n  )\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(filter: {\n      frontmatter: {\n        groupingID: {\n          eq: 3\n        }\n      }\n    }) {\n      edges {\n        node {\n          html\n          frontmatter {\n            title\n            category\n            locale\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}